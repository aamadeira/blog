const S="modulepreload",w=function(r){return"/blog/"+r},h={},y=function(s,u,d){let f=Promise.resolve();if(u&&u.length>0){let n=function(e){return Promise.all(e.map(o=>Promise.resolve(o).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),i=t?.nonce||t?.getAttribute("nonce");f=n(u.map(e=>{if(e=w(e),e in h)return;h[e]=!0;const o=e.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":S,o||(a.as="script"),a.crossOrigin="",a.href=e,i&&a.setAttribute("nonce",i),document.head.appendChild(a),o)return new Promise((p,g)=>{a.addEventListener("load",p),a.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${e}`)))})}))}function c(n){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=n,window.dispatchEvent(t),!t.defaultPrevented)throw n}return f.then(n=>{for(const t of n||[])t.status==="rejected"&&c(t.reason);return s().catch(c)})};function m(){const r=document.querySelector("#pagefind-search");if(!r)return;const s=new URLSearchParams(window.location.search);(window.requestIdleCallback||(d=>setTimeout(d,1)))(async()=>{const{PagefindUI:d}=await y(async()=>{const{PagefindUI:e}=await import("./ui-core.JwIFmUpW.js");return{PagefindUI:e}},[]),f=new d({element:"#pagefind-search",bundlePath:r.dataset.bundlepath,showSubResults:!0,showImages:!1,processTerm:function(e){s.set("q",e),history.replaceState(history.state,"","?"+s.toString());const o=r?.dataset?.backurl;return sessionStorage.setItem("backUrl",o+"?"+s.toString()),e}}),c=s.get("q");c&&f.triggerSearch(c);const n=document.querySelector(".pagefind-ui__search-input"),t=document.querySelector(".pagefind-ui__search-clear");n?.addEventListener("input",i),t?.addEventListener("click",i);function i(e){e.target?.value.trim()===""&&history.replaceState(history.state,"",window.location.pathname)}})}document.addEventListener("astro:after-swap",()=>{const r=document.querySelector("#pagefind-search");r&&r.querySelector("form")||m()});m();export{y as _};
